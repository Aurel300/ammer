<!DOCTYPE html><html><head>
	<title>Linking subdefinitions – ammer manual</title>
	<meta charset="utf-8">
	<link rel="stylesheet" href="css/style.css" media="all">
</head><body>
	<header><a href="index.html"><h1>ammer</h1></a></header>
	<nav id="menu"><ul><li><a href="index.html">Introduction</a></li><ul><li><a href="intro-start.html">Getting started</a></li></ul><ul><li><a href="intro-installation.html">Installation</a></li></ul><ul><li><a href="intro-sample.html">Sample project</a></li></ul><ul><li><a href="intro-use.html">Use cases</a></li></ul><ul><li><a href="intro-troubleshooting.html">Troubleshooting</a></li></ul></ul><ul><li><a href="definition.html">Definition</a></li><ul><li><a href="definition-library.html">Library definition</a></li><ul><li><a href="definition-library-functions.html">Functions</a></li></ul><ul><li><a href="definition-library-constants.html">Constants</a></li></ul><ul><li><a href="definition-link.html">Linking subdefinitions</a></li></ul></ul><ul><li><a href="definition-sub.html">Sublibraries</a></li></ul><ul><li><a href="definition-type.html">Library datatype definition</a></li><ul><li><a href="definition-type-nested.html">Nested data</a></li></ul></ul><ul><li><a href="definition-enum.html">Enumerations</a></li></ul><ul><li><a href="definition-metadata.html">Metadata</a></li></ul><ul><li><a href="definition-ffi.html">FFI types</a></li><ul><li><a href="definition-ffi-size.html">Size types</a></li></ul><ul><li><a href="definition-ffi-callbacks.html">Callbacks</a></li></ul></ul></ul><ul><li><a href="configuration.html">Configuration</a></li><ul><li><a href="configuration-general.html">General configuration</a></li></ul><ul><li><a href="configuration-library.html">Library configuration</a></li></ul></ul><ul><li><a href="target.html">Target details</a></li><ul><li><a href="target-hxcpp.html">C++</a></li></ul><ul><li><a href="target-eval.html">Eval</a></li></ul><ul><li><a href="target-hashlink.html">HashLink</a></li></ul><ul><li><a href="target-lua.html">Lua</a></li></ul></ul><ul><li><a href="library.html">Native library development</a></li></ul><ul><li><a href="ammer.html">Implementation details</a></li><ul><li><a href="ammer-testing.html">Testing</a></li></ul><ul><li><a href="ammer-stages.html">Compilation stages</a></li></ul></ul></nav>
	<main><h2>Linking subdefinitions</h2><p>In addition to libraries, <code>ammer</code> offers three kinds of &quot;subdefinitions&quot;:</p>
<ul>
<li><a href="definition-sub.html" title="Sublibraries">Sublibraries</a></li>
<li><a href="definition-type.html" title="Library datatype definition">Library datatypes</a></li>
<li><a href="definition-enum.html" title="Enumerations">Enumerations</a></li>
</ul>
<p>Each forms a link to the parent in its declaration (e.g. <code>... extends ammer.Sublibrary&lt;ParentLibrary&gt; ...</code>). However, this link may need to also be declared on the parent library using the <a href="definition-metadata.html#ammer.sub" title="Metadata"><code>@:ammer.sub</code></a> metadata.</p>
<div class="example">

<h3>Example: linking a sublibrary</h3><pre><code class="language-haxe">// in file Foobar.hx
@:ammer.sub((_ : FoobarSub))
class Foobar extends ammer.Library&lt;&quot;foobar&quot;&gt; {}

// in file FoobarSub.hx
class FoobarSub extends ammer.Sublibrary&lt;Foobar&gt; {}</code></pre>
<p>In this example, the <code>Foobar</code> library &quot;discovers&quot; the <code>FoobarSub</code> sublibrary because of the <code>@:ammer.sub</code> metadata. The <code>FoobarSub</code> sublibrary &quot;discovers&quot; its parent library because it is the type parameter to <code>ammer.Sublibrary</code>.</p>
</div>

<p>In most cases, <code>@:ammer.sub</code> is not required. Subdefinitions belonging to the library are also discovered by following the types used in the library functions and variables. However, there may be cases when a subdefinition is not referred to in the parent library code. If the subdefinition is also in a separate module (file), and the compiler happens to type the parent library first, compilation will fail. As such, it is recommended to always declare subdefinitions using <code>@:ammer.sub</code>.</p>
</main>
	<a id="page-prev" href="definition-library-constants.html">« Previous: Constants</a>
	<a id="page-next" href="definition-sub.html">Next: Sublibraries »</a>
	<footer>
		<a href="https://github.com/Aurel300/ammer/blob/gh-pages/source/content/02-definition.md">Contribute to this page</a>
		| <a href="https://github.com/Aurel300/ammer/" target="_blank"><code>ammer</code> on GitHub</a>
		| &copy; 2019-2020 Aurel Bílý
	</footer>
</body></html>