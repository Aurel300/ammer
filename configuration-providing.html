<!DOCTYPE html><html><head>
	<title>Providing flags – ammer manual</title>
	<meta charset="utf-8">
	<link rel="stylesheet" href="css/style.css" media="all">
	<link rel="stylesheet" href="css/highlight.css" media="all">
	<script src="search.js"></script>
</head><body>
	<header><a href="index.html"><h1>ammer</h1></a></header>
	<nav id="menu">
		<input autocomplete="off" tabindex="0" title="Click here to search" id="search" type="text" placeholder="Enter search term here">
		<label for="search"></label>
		<div class="menu-split"></div>
		<div class="menu-split show"><ul><li><a href="index.html">Introduction</a></li><ul><li><a href="intro-overview.html">Overview</a></li></ul><ul><li><a href="intro-terminology.html">Terminology</a></li></ul><ul><li><a href="intro-use.html">Why <code>ammer</code>?</a></li></ul><ul><li><a href="intro-installation.html">Installation</a></li></ul><ul><li><a href="intro-start.html">Getting started</a></li></ul></ul><ul><li><a href="definition.html">Definition</a></li><ul><li><a href="definition-library.html">Library definition</a></li><ul><li><a href="definition-library-functions.html">Functions</a></li></ul><ul><li><a href="definition-library-variables.html">Variables</a></li></ul><ul><li><a href="definition-sub.html">Sublibraries</a></li></ul></ul><ul><li><a href="definition-type.html">Datatypes</a></li><ul><li><a href="definition-type-opaque.html">Opaque types</a></li></ul><ul><li><a href="definition-type-struct.html">Structs</a></li></ul><ul><li><a href="definition-type-instance.html">Instance methods</a></li></ul><ul><li><a href="definition-type-enum.html">Enums</a></li></ul><ul><li><a href="definition-type-haxe.html">Haxe types</a></li></ul><ul><li><a href="definition-type-callbacks.html">Callbacks</a></li></ul><ul><li><a href="definition-link.html">Linking subdefinitions</a></li></ul></ul></ul><ul><li><a href="configuration.html">Configuration</a></li><ul><li><a href="configuration-providing.html">Providing flags</a></li></ul><ul><li><a href="configuration-project.html">Project-wide configuration</a></li></ul><ul><li><a href="configuration-library.html">Library configuration</a></li></ul></ul><ul><li><a href="target.html">Target details</a></li><ul><li><a href="target-feature-parity.html">Feature parity</a></li></ul><ul><li><a href="target-hxcpp.html">C++</a></li></ul><ul><li><a href="target-cs.html">C#</a></li></ul><ul><li><a href="target-eval.html">Eval</a></li></ul><ul><li><a href="target-hashlink.html">HashLink</a></li></ul><ul><li><a href="target-java.html">Java</a></li></ul><ul><li><a href="target-lua.html">Lua</a></li></ul><ul><li><a href="target-neko.html">Neko</a></li></ul><ul><li><a href="target-nodejs.html">Node.js</a></li></ul><ul><li><a href="target-python.html">Python</a></li></ul></ul><ul><li><a href="ref.html">Reference</a></li><ul><li><a href="ref-ffi.html">FFI types</a></li></ul><ul><li><a href="ref-def.html"><code>ammer.def.*</code> types</a></li></ul><ul><li><a href="ref-lib.html"><code>ammer.Lib</code></a></li></ul><ul><li><a href="ref-flags.html">List of configuration flags</a></li></ul><ul><li><a href="ref-annot.html">List of annotations</a></li></ul></ul><ul><li><a href="amlib.html"><code>amlib</code></a></li></ul><ul><li><a href="advanced.html">Advanced topics</a></li><ul><li><a href="advanced-cycles.html">Type cycles</a></li></ul></ul><ul><li><a href="core.html"><code>ammer-core</code></a></li><ul><li><a href="core-api.html">Interface</a></li></ul><ul><li><a href="core-new-platform.html">Implementing new platforms</a></li></ul></ul></div>
	</nav>
	<main><h2>Providing flags</h2><p>A &quot;configuration flag&quot; in this document refers to a string key, such as <code>ammer.buildPath</code> associated to a value of a given type, such as <code>String</code>. Most configuration flags can be set using two ways:</p>
<ul>
<li>Either by annotating a <a href="definition-library.html" title="Library definition">library definition</a> with metadata; or</li>
<li>by providing a <a href="https://haxe.org/manual/lf-condition-compilation.html" target="_blank">compile-time define</a> when invoking the Haxe compiler.</li>
</ul>
<p>For configuration <a href="configuration-library.html" title="Library configuration">flags associated to a particular library</a> (for example: &quot;which header files should be included when compiling this library&quot;), using metadata is the more natural option. The relevant metadata are written in the same file as the definition of the library itself, which means information is not spread across too many places. Nevertheless, defines can be used to override the library behaviour on a per-project basis.</p>
<p><a href="configuration-project.html" title="Project-wide configuration">Configuration flags which are not associated to any library</a> can only be provided using defines.</p>
<div class="example">

<h3>Example: providing flags</h3><div class="hl"><pre><a class="hll-meta" href="ref-flags.html#lib.headers" title="List of configuration flags / ammer.lib._.headers.includes"><i class="hl-metax">@:</i><i class="hl-meta">ammer</i><i class="hl-metax">.</i><i class="hl-meta">lib</i><i class="hl-metax">.</i><i class="hl-meta">headers</i><i class="hl-metax">.</i><i class="hl-meta">include</i></a><i class="hl-metax">(</i><i class="hl-lit">"png.h"</i><i class="hl-metax">)</i><i class="hl-other">
</i><i class="hl-kw">class</i><i class="hl-other"> </i><i class="hl-decl">LibPng</i><i class="hl-other"> </i><i class="hl-kw">extends</i><i class="hl-other"> </i><a class="hll-ty" href="ref-def.html#library" title="ammer.def.* types / ammer.def.Library"><i class="hl-ty">ammer</i><i class="hl-tyx">.</i><i class="hl-ty">def</i><i class="hl-tyx">.</i><i class="hl-ty">Library</i></a><i class="hl-tyx">&lt;</i><i class="hl-lit">"png"</i><i class="hl-tyx">&gt;</i><i class="hl-other"> {
  </i><i class="hl-com">// ...</i><i class="hl-other">
}</i></pre></div><p>In this example, the <code>LibPng</code> library is configured to include the <code>png.h</code> header file during compilation using metadata. Alternatively, the metadata can be omitted, and the flag provided using a compile-time define:</p>
<div class="hl"><pre><i class="hl-kw">-D</i><i class="hl-other"> </i><a class="hll-def" href="ref-flags.html#lib.headers" title="List of configuration flags / ammer.lib._.headers.includes"><i class="hl-ty">ammer.lib.png.headers.include</i></a><i class="hl-other">=png.h</i></pre></div><p>Note the naming convention: in the metadata case, the metadata is attached directly to the <code>LibPng</code> class, so providing the <code>png</code> identifier as part of the metadata name would be redundant. On the other hand, the compile-time define must specify which library it is referring to by using the <code>png</code> identifier as part of the define name.</p>
</div>

</main>
	<a id="page-prev" href="configuration.html">« Previous: Configuration</a>
	<a id="page-next" href="configuration-project.html">Next: Project-wide configuration »</a>
	<footer>
		<a href="https://github.com/Aurel300/ammer/blob/gh-pages-src/content/03-configuration.md?plain=1#L25">Contribute to this page</a>
		| <a href="https://github.com/Aurel300/ammer/" target="_blank"><code>ammer</code> on GitHub</a>
		| &copy; 2019-2023 Aurel Bílý
	</footer>
</body></html>