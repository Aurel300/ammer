<!DOCTYPE html><html><head>
	<title>Constants – ammer manual</title>
	<meta charset="utf-8">
	<link rel="stylesheet" href="css/style.css" media="all">
</head><body>
	<header><a href="index.html"><h1>ammer</h1></a></header>
	<nav id="menu"><ul><li><a href="index.html">Introduction</a></li><ul><li><a href="intro-start.html">Getting started</a></li></ul><ul><li><a href="intro-installation.html">Installation</a></li></ul><ul><li><a href="intro-sample.html">Sample project</a></li></ul><ul><li><a href="intro-use.html">Use cases</a></li></ul><ul><li><a href="intro-troubleshooting.html">Troubleshooting</a></li></ul></ul><ul><li><a href="definition.html">Definition</a></li><ul><li><a href="definition-library.html">Library definition</a></li><ul><li><a href="definition-library-functions.html">Functions</a></li></ul><ul><li><a href="definition-library-constants.html">Constants</a></li></ul></ul><ul><li><a href="definition-type.html">Library datatype definition</a></li></ul><ul><li><a href="definition-metadata.html">Metadata</a></li></ul><ul><li><a href="definition-ffi.html">FFI types</a></li><ul><li><a href="definition-ffi-size.html">Size types</a></li></ul></ul></ul><ul><li><a href="configuration.html">Configuration</a></li><ul><li><a href="configuration-general.html">General configuration</a></li></ul><ul><li><a href="configuration-library.html">Library configuration</a></li></ul></ul><ul><li><a href="target.html">Target details</a></li><ul><li><a href="target-hxcpp.html">C++</a></li></ul><ul><li><a href="target-eval.html">Eval</a></li></ul><ul><li><a href="target-hashlink.html">HashLink</a></li></ul><ul><li><a href="target-lua.html">Lua</a></li></ul></ul><ul><li><a href="library.html">Native library development</a></li></ul><ul><li><a href="ammer.html">Implementation details</a></li><ul><li><a href="ammer-testing.html">Testing</a></li></ul><ul><li><a href="ammer-stages.html">Compilation stages</a></li></ul></ul></nav>
	<main><h2>Constants</h2><p>Constants can be declared in library definitions using <code>public static final</code> fields. Their value should correspond to values which are made available by the library without any prior initialisation. Typically, these are C preprocessor defines or C enum values, available from the library headers.</p>
<div class="example">

<h3>Example: constant in library definition</h3><pre><code class="language-haxe">class Foobar extends ammer.Library&lt;&quot;foobar&quot;&gt; {
  @:ammer.native(&quot;HELLO_WORLD&quot;)
  public static final helloWorld:String;
}</code></pre>
<p>In this example, <code>helloWorld</code> is a string constant for the <code>Foobar</code> <code>ammer</code> library definition. The headers of the <code>foobar</code> native library must ensure that <code>HELLO_WORLD</code> is a valid C expression, for example with <code>#define HELLO_WORLD &quot;hello world&quot;</code>.</p>
</div>

<p><a href="definition-metadata.html#ammer.native" title="Metadata"><code>@:ammer.native</code></a> can be used to specify the C expression which will be used to determine the value of a constant. There is no restriction to what the expression can be: it may be a literal, a constant, the result of a library call, and so forth. However, all constant values are initialised at the same time, typically before Haxe <code>main</code> is reached, so the C expression should not be a mutable value, because it will not be updated.</p>
<p>Constants are restricted to a small subset of Haxe types:</p>
<ul>
<li><code>Bool</code></li>
<li><code>Float</code></li>
<li><code>Int</code></li>
<li><code>String</code></li>
</ul>
<h3>Metadata applicable to constants</h3><ul>
<li><a href="definition-metadata.html#ammer.native" title="Metadata"><code>@:ammer.native</code></a></li>
</ul>
<h3>Planned features</h3><p>See <a href="https://github.com/Aurel300/ammer/issues/17" target="_blank">related issue</a>.</p>
<ul>
<li>variables - expression re-evaluated everytime the variable is used</li>
<li>enums - declared as actual <code>enum</code>s in Haxe code</li>
<li>bitwise flags - same as <code>Int</code> constants, but type safe for bitwise-or combinations</li>
</ul>
</main>
	<a id="page-prev" href="definition-library-functions.html">« Previous: Functions</a>
	<a id="page-next" href="definition-type.html">Next: Library datatype definition »</a>
	<footer>
		<a href="https://github.com/Aurel300/ammer/blob/master/manual/content/02-definition.md">Contribute to this page</a>
		| <a href="https://github.com/Aurel300/ammer/" target="_blank"><code>ammer</code> on GitHub</a>
		| &copy; 2019-2020 Aurel Bílý
	</footer>
</body></html>